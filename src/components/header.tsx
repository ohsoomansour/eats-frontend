
/*#️⃣15.17 Header part One
  1. 🔹1em = 16px
     🔹rem 
       html - font size 5px
       div  - font size 50px
              margin top 2rem = 10px(최상위 기준)
              margin bottom 2em = 100px(상위 요소 div 기준, 가장 가까이 정의된 폰트 크기를 가져옴) 
             
      예시) py = 16px  
  #15.18 Header part Two 
  2. font awesome 설치
   npm i --save @fortawesome/fontawesome-svg-core @fortawesome/react-fontawesome @fortawesome/free-solid-svg-icons      
  
  3.🔹px-5 모바일 first❗ > xl:px-0 웹 second!
            <FontAwesomeIcon 
              icon={faUser}
              color="black" 
              size="2x" 
              className=" fill-cyan-500 hover:fill-slate-500" 
            /> 
  */
/*#️⃣SVG 변환 
   ⭐NETFLIX 로고
   1. 구글폰트: (주)가  + fontawesome: arrow-up-long
   2.📃https://www.adobe.com/kr/express/feature/image/convert/svg  
      > 변환: file:///C:/Users/%EC%98%A4%EC%88%98%EB%A7%8C/Downloads/%EC%A0%80%EA%B8%B0%EC%9A%94%EB%B0%B0%EB%8B%AC%EC%9A%94_%EC%88%98%EC%A0%951_adobe_express.svg
   3. const svg = {
        start:{pathLength:0, fill:"rgba(255, 255, 255, 0)" },
        end:{
          fill:"rgba(255, 255, 255, 1)",
          pathLength:1, 
        }
      }
   4. #️⃣OTT참조
      const SVG = styled(motion.svg)`
        color:black;
        background-color:transparent;
        width:150px;
        height:100px;
      ` 
      const svg = {
        start:{pathLength:0, fill:"rgba(255, 255, 255, 0)" },
        end:{
          fill:"rgba(255, 255, 255, 1)",
          pathLength:1, 
        }
      }
      
     
*/
import React from "react";
import { useMe } from "../hooks/useMe";
import { Link, useHistory } from "react-router-dom";
import styled from "styled-components";
import {motion} from "framer-motion";

const LogoSvg = styled(motion.svg)`
  color:black;
  background-color:transparent;
  width:200px;
  height:150px;
`
const Svg = styled.svg`
  fill:#130f40;
  transition: fill 0.3s ease-in-out;
  &:hover {
    fill: #30336b;
  }
`;
const OffSvg = styled.svg`
  width:45px;
  height:45px;
  transition: fill 0.3s ease-in-out;
  &:hover {
    fill: #b2bec3;
  }
`
const Button = styled.button`

`

const Logo_svg = {
  start:{
    pathLength:0, fill:"rgba(255, 255, 255, 0)" 
  },
  end:{
    pathLength:1, fill:"rgba(0, 0, 0, 1)",
  }
}

export const Header: React.FC = () => {
  const {data} = useMe();
   /*⭐state의 이해:  Rerendering이 되는 조건 - 참조값이 업데이트 되었다 예를들어
      user.name = 'Peter' > user.name = 'SM'  (X)
      user.name = 'Peter' > user.name   
   */

  const history = useHistory()
  const onLogOut = () => {
    localStorage.removeItem('nuber-token')
    history.go(0);
    
  }

  return(
    <> 
      {!data?.me.verified && (
        <div className="bg-red-500 p-3 text-center text-base text-white">
          <span>Please verify your email</span>
        </div>
      )} 
      <header className=" py-4">
        <div className=" w-full max-w-screen-xl px-5 xl:px-0 mx-auto flex justify-between items-center">
          <Link to="/">
            <LogoSvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 559 155">       
              <motion.path variants={Logo_svg} initial="start" animate="end" transition={{ fill:{duration:1, delay:1}}} stroke="black" d=" M43.763939,101.231689   C42.542107,99.639648 41.550076,98.320442 40.279137,96.630341   C35.603683,103.461800 29.926851,108.601585 20.992672,110.152534   C19.710150,105.425362 18.429462,100.704948 17.046688,95.608253   C25.354500,93.725922 28.485907,87.354759 29.735447,80.094948   C31.111341,72.101021 31.593864,63.953327 32.533546,55.242519   C27.660364,55.242519 23.605446,55.242519 19.258980,55.242519   C19.258980,50.310921 19.258980,45.921410 19.258980,41.259605   C33.230522,41.259605 47.142124,41.259605 61.318668,41.259605   C61.318668,45.751762 61.318668,50.166222 61.318668,54.962276   C57.187874,54.962276 53.255478,54.962276 49.396503,54.962276   C46.319111,72.510727 52.442986,90.626053 63.354225,95.695549   C62.149551,100.353752 60.921589,105.102020 59.659706,109.981430   C52.987648,109.265884 48.164425,105.991089 43.763939,101.231689  z"/>           
              <motion.path variants={Logo_svg} initial="start" animate="end" transition={{ fill:{duration:2, delay:1}}} stroke="black" d=" M77.968269,39.990585   C80.755356,39.990585 83.059639,39.990585 85.634445,39.990585   C85.634445,64.390999 85.634445,88.435883 85.634445,112.745552   C79.932930,112.745552 74.341293,112.745552 68.268143,112.745552   C68.268143,103.044380 68.268143,93.313301 68.268143,83.035553   C64.421341,83.035553 61.026569,83.035553 57.449547,83.035553   C57.449547,78.216545 57.449547,73.949005 57.449547,69.114006   C60.884537,69.114006 64.278595,69.114006 67.950050,69.114006   C67.950050,59.288036 67.950050,50.018452 67.950050,39.990585   C71.319992,39.990585 74.402733,39.990585 77.968269,39.990585  z"/>
              <motion.path variants={Logo_svg} initial="start" animate="end" transition={{ fill:{duration:3, delay:1}}} stroke="black" d=" M138.316071,50.020111   C138.643402,62.240582 137.802902,73.777138 133.192566,84.772133   C126.539871,100.637886 114.231728,109.774956 98.773018,109.808510   C98.127502,105.544495 97.467972,101.187881 96.755310,96.480316   C104.174644,95.173035 110.021095,91.621918 113.911888,85.091972   C118.605850,77.214058 121.382378,64.620476 120.201347,55.111778   C112.993896,55.111778 105.731453,55.111778 98.152870,55.111778   C98.152870,50.384239 98.152870,45.990902 98.152870,41.294609   C111.257759,41.294609 124.478340,41.294609 138.316040,41.294609   C138.316040,44.012657 138.316040,46.767159 138.316071,50.020111  z"/>       
              <motion.path variants={Logo_svg} initial="start" animate="end" transition={{ fill:{duration:4, delay:1}}} stroke="black" d=" M146.957230,44.147385   C147.766769,42.439861 148.506500,40.220547 149.397308,40.158157   C154.327011,39.812885 159.293488,39.992825 164.502106,39.992825   C164.502106,64.424889 164.502106,88.450111 164.502106,112.743576   C158.771072,112.743576 153.193115,112.743576 146.957169,112.743576   C146.957169,90.046295 146.957169,67.338844 146.957230,44.147385  z"/>
              <motion.path variants={Logo_svg} initial="start" animate="end" transition={{ fill:{duration:5, delay:1}}} stroke="black" d=" M202.102295,83.003304   C185.301025,82.984299 176.091339,74.055130 177.483505,59.603657   C178.436539,49.710735 184.615295,42.392403 194.959763,41.469067   C205.521378,40.526348 216.325424,40.400604 226.855865,41.508698   C238.895782,42.775639 245.160370,51.909046 244.222305,64.159378   C243.368973,75.303215 235.327057,82.715508 223.568085,82.973549   C216.577332,83.126953 209.580460,83.002716 202.102295,83.003304  M198.691238,56.685432   C195.423203,58.488476 193.985931,61.638523 195.741333,64.584442   C196.985794,66.672935 200.119400,68.531372 202.597412,68.807274   C208.173813,69.428162 213.867996,69.071953 219.512039,68.978867   C223.922104,68.906128 226.880051,66.233620 226.587921,62.409504   C226.281967,58.404247 224.074890,55.979004 219.819504,56.009583   C213.018845,56.058441 206.218674,56.174232 198.691238,56.685432  z"/>
              <motion.path variants={Logo_svg} initial="start" animate="end" transition={{ fill:{duration:6, delay:1}}} stroke="black" d=" M244.712433,96.383331   C245.072952,100.985405 245.072952,105.266815 245.072952,109.775597   C222.251648,109.775597 199.696091,109.775597 176.776413,109.775597   C176.776413,105.430954 176.776413,101.048782 176.776413,96.168175   C180.089371,96.168175 183.489258,96.168175 187.192673,96.168175   C187.349487,92.811790 187.484543,89.920837 187.632523,86.753555   C193.464874,86.753555 199.052216,86.753555 205.123154,86.753555   C205.123154,89.595131 205.123154,92.512764 205.123154,95.710709   C208.990829,95.710709 212.383331,95.710709 216.118011,95.710709   C216.118011,92.836639 216.118011,90.070610 216.118011,86.882446   C222.135376,86.882446 227.834686,86.882446 234.045929,86.882446   C234.045929,89.680069 234.045929,92.579895 234.045929,96.062660   C237.802383,96.062660 241.077148,96.062660 244.712433,96.383331  z"/>
              <motion.path variants={Logo_svg} initial="start" animate="end" transition={{ fill:{duration:6, delay:2}}} stroke="black" d=" M300.005371,110.009804   C295.202209,110.009804 290.897003,110.009804 286.276794,110.009804   C286.276794,87.032608 286.276794,64.332428 286.276794,41.310516   C290.575409,41.310516 294.945343,41.310516 299.646118,41.310516   C299.646118,48.424168 299.646118,55.362339 299.646118,62.405560   C302.414032,63.469406 303.924133,63.355137 303.857361,59.998203   C303.735291,53.861507 303.822632,47.720646 303.822632,41.286980   C308.438782,41.286980 312.832581,41.286980 317.495483,41.286980   C317.495483,64.091652 317.495483,86.796326 317.495483,110.009804   C311.721466,110.009804 306.112396,110.009804 300.005371,110.009804  M299.706909,88.471146   C299.706909,91.241974 299.706909,94.012802 299.706909,96.783630   C300.272339,97.031662 300.837738,97.279686 301.403168,97.527718   C302.224670,96.354614 303.689484,95.216324 303.755188,94.002304   C304.024628,89.024712 303.762054,84.021011 303.905060,79.032936   C303.999725,75.731651 302.502350,75.503242 299.706879,76.501060   C299.706879,80.209282 299.706879,83.846619 299.706909,88.471146  z"/>
              <motion.path variants={Logo_svg} initial="start" animate="end" transition={{ fill:{duration:7, delay:2.5}}} stroke="black" d=" M321.824188,84.999939   C321.824188,69.862183 321.824188,55.224422 321.824188,40.289238   C327.101562,40.289238 332.164734,40.289238 337.760468,40.289238   C337.760468,48.660305 337.705902,56.939091 337.819275,65.215576   C337.836304,66.457932 338.639160,67.689522 339.078522,68.926086   C339.660400,67.658737 340.723572,66.399940 340.746277,65.122658   C340.896729,56.653492 340.824158,48.180363 340.824158,39.416763   C346.067932,39.416763 350.998688,39.416763 356.347839,39.416763   C356.347839,63.662464 356.347839,88.018173 356.347839,112.692673   C351.376923,112.692673 346.328003,112.692673 341.269257,112.692673   C340.834808,102.792107 340.406433,92.979790 339.913025,83.170738   C339.910522,83.121391 338.988098,83.118309 337.930908,83.065338   C337.930908,92.502457 337.930908,101.886009 337.930908,111.567818   C332.466431,111.567818 327.550476,111.567818 321.824188,111.567818   C321.824188,102.967880 321.824188,94.233910 321.824188,84.999939  z"/>         
              <motion.path variants={Logo_svg} initial="start" animate="end" transition={{ fill:{duration:9, delay:2.5}}} stroke="black" d=" M376.094788,72.006210   C373.453491,72.006210 371.297119,72.006210 368.780701,72.006210   C368.780701,61.758656 368.780701,51.711979 368.780701,41.327454   C381.938416,41.327454 395.151459,41.327454 408.701355,41.327454   C408.701355,44.950859 408.701355,48.671459 408.701355,52.928940   C401.389740,52.928940 393.994202,52.928940 386.393311,52.928940   C386.393311,55.390491 386.393311,57.327400 386.393311,59.850872   C394.339294,59.850872 402.391266,59.850872 410.669495,59.850872   C410.669495,64.020012 410.669495,67.624466 410.669495,72.006210   C399.382202,72.006210 387.980988,72.006210 376.094788,72.006210  z"/>
              <motion.path variants={Logo_svg} initial="start" animate="end" transition={{ fill:{duration:9, delay:2.5}}} stroke="black" d=" M420.108795,40.000298   C425.386292,39.997780 430.173096,39.997780 435.386780,39.997780   C435.386780,43.508358 435.386780,46.589031 435.386780,49.787937   C437.922058,49.943176 440.032745,50.072422 442.338318,50.213596   C442.338318,54.480606 442.338318,58.568943 442.338318,62.798954   C440.001099,62.941109 437.888550,63.069599 435.391205,63.221497   C435.391205,66.136177 435.391205,68.894440 435.391205,71.916092   C429.424469,71.916092 423.854584,71.916092 417.704163,71.916092   C417.704163,61.781567 417.674011,51.709644 417.785797,41.639301   C417.791901,41.087086 418.980103,40.548004 420.108795,40.000298  z"/>
              <motion.path variants={Logo_svg} initial="start" animate="end" transition={{ fill:{duration:9, delay:2.5}}} stroke="black" d=" M370.253479,106.852966   C370.253510,100.746506 370.253510,95.120651 370.253510,88.999153   C384.462280,88.999153 398.237610,88.999672 412.012909,88.998314   C413.345398,88.998184 414.728088,89.199196 415.991760,88.901100   C416.762665,88.719246 417.350433,87.760902 419.157471,86.116875   C401.959290,86.116875 386.378448,86.116875 370.529358,86.116875   C370.529358,82.236824 370.529358,78.844437 370.529358,75.232933   C392.141571,75.232933 413.543915,75.232933 435.128510,75.232933   C435.128510,83.417915 435.128510,91.371330 435.128510,100.004105   C419.516144,100.004105 403.843109,100.004105 388.170044,100.004105   C388.161926,100.496986 388.153809,100.989868 388.145660,101.482750   C403.996460,101.482750 419.847229,101.482750 435.999756,101.482750   C435.999756,105.662407 435.999756,109.058884 435.999756,112.730484   C414.319092,112.730484 392.573425,112.730484 370.253479,112.730484   C370.253479,110.888123 370.253479,109.110847 370.253479,106.852966  z"/>         
              <motion.path variants={Logo_svg} initial="start" animate="end" transition={{ fill:{duration:9, delay:2.5}}} stroke="black" d=" M479.016296,83.003304   C474.694580,82.924660 470.801666,83.276306 467.057129,82.686302   C456.034485,80.949547 449.622314,73.405411 449.422485,62.509407   C449.216461,51.271580 455.320953,42.791142 466.564209,41.600842   C477.252380,40.469303 488.245422,40.420006 498.931366,41.542404   C510.981750,42.808113 517.186462,51.964500 516.214844,64.234734   C515.333923,75.358017 507.269623,82.709953 495.496735,82.981140   C490.171448,83.103798 484.841003,83.002823 479.016296,83.003304  M467.868134,65.516708   C470.065155,66.678444 472.192352,68.644920 474.472961,68.842743   C480.080292,69.329147 485.759125,69.065437 491.407379,68.981308   C495.862152,68.914963 498.652466,66.329895 498.653351,62.501511   C498.654236,58.673031 495.863739,56.087288 491.410431,56.018517   C485.928375,55.933857 480.443604,55.955387 474.960815,56.008762   C468.871094,56.068039 466.873444,58.479694 467.868134,65.516708  z"/>   
              <motion.path variants={Logo_svg} initial="start" animate="end" transition={{ fill:{duration:9, delay:2.5}}} stroke="black" d=" M476.919189,87.023254   C477.194885,90.012421 477.194885,92.662041 477.194885,95.650177   C480.928040,95.650177 484.299683,95.650177 488.179810,95.650177   C488.179810,92.793045 488.179810,89.899719 488.179810,86.739899   C494.263184,86.739899 499.853088,86.739899 505.962311,86.739899   C505.962311,89.615494 505.962311,92.499947 505.962311,95.853371   C509.854095,95.853371 513.263977,95.853371 516.914673,95.853371   C516.914673,100.713783 516.914673,105.106682 516.914673,109.756607   C494.292236,109.756607 471.730499,109.756607 448.790497,109.756607   C448.790497,105.442650 448.790497,101.064240 448.790497,96.181961   C452.075775,96.181961 455.474365,96.181961 459.193634,96.181961   C459.349762,92.824318 459.484406,89.928307 459.635254,86.683693   C465.458130,86.683693 471.050812,86.683693 476.919189,87.023254  z"/>  
            </LogoSvg>
          </Link>
            <span className=" text-lg font-semibold">{data?.me.email}</span>
            <Button onClick={() => onLogOut()} className=" flex flex-col items-center gap-2 font-semibold">
              <OffSvg className=" transform transition fill-slate-600 hover:fill-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <path d="M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V256c0 17.7 14.3 32 32 32s32-14.3 32-32V32zM143.5 120.6c13.6-11.3 15.4-31.5 4.1-45.1s-31.5-15.4-45.1-4.1C49.7 115.4 16 181.8 16 256c0 132.5 107.5 240 240 240s240-107.5 240-240c0-74.2-33.8-140.6-86.6-184.6c-13.6-11.3-33.8-9.4-45.1 4.1s-9.4 33.8 4.1 45.1c38.9 32.3 63.5 81 63.5 135.4c0 97.2-78.8 176-176 176s-176-78.8-176-176c0-54.4 24.7-103.1 63.5-135.4z"/>
              </OffSvg>
              로그 아웃
            </Button>
            

          <Link to="/edit-profile">
          
          <Svg 
            xmlns="http://www.w3.org/2000/svg" 
            viewBox="0 0 448 512"
            height="40px"
            width="40px"
          
          >
            <path d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/>
          </Svg>

          </Link>
        </div>
      </header>
    </>  
  );
};